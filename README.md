# OpenSourceSW
OpenSourceSW task

# 오픈소스SW개론 과제

top 
---
+ 실시간으로 CPU 사용률을 체크해주는 도구
+ 리눅스를 사용하는 서버의 성능이나 현재 돌아가고 있는 상황을 볼 때 사용

### 사용법

**top 라고 입력하여 사용**

![top](https://github.com/Hwanggeuncheol/OpenSourceSW/assets/133829778/30bb89cf-e9b4-449b-9b56-e1ff5cd04a3f)

### 나타내는 정보

1. 20:20:49 : 현재 서버의 시간
2. up 171days, 5:46 : uptime 켜져있는시간
3. 4users : 유저
4. load average : 현재 시스템이 얼마나 일을 하고 있는지 1분, 5분, 15분 단위로 실행|대기 중인 프로세스 수를 나타냄
5. Tasks : 프로세스 개수

***CPU***

| %us | 유저레벨에서 사용하고 있는 CPU 비중 |
|:--------:|:---------:|
| %sy | 시스템 레벨에서 사용하고 있는 CPU 비중 |
| %id | 유휴 상태의 CPU 비중|
| %wa | 시스템이 I/O 요청을 처리하지 못한 상태에서의 CPU idle 상태인 비중 |

MiB Mem, MiB Swap : 각 메모리의 상태 정보

***프로세스 상태 정보***

+ PID : 프로세스 ID(PID)
+ USER : 프로세스를 실행시킨 사용자 ID
+ PRI : 프로세스의 우선순위(priority)
+ NI : NICE 값. 일의 nice value 값이다. 마이너스를 가지는 nice value는 우선순위가 높다.
+ VIRT : 가상 메모리의 사용량(SWAP + RES)
+ RES : 현재 페이지가 상주하고 있는 크기(Resident Size)
+ SHR : 분할된 페이지, 프로세스에 의해 사용된 메모리를 나눈 메모리의 총합.
+ S : 프로세스의 상태 [S(sleeping), R(running), W(swapped out process), Z(zombies)]
+ %CPU : 프로세스가 사용하는 CPU의 사용률
+ %MEM : 프로세스가 사용하는 메모리의 사용률
+ COMMAND : 실행된 명령어

### Top 명령어 옵션(top 실행중 사용 가능)

1. **shift + p** : CPU 사용률이 높은 프로세스 순서대로 표시
2. **shift + m** : 메모리 사용률이 높은 프로세스 순서대로 표시
3. **shift + t** : 프로세스가 돌아가고 있는 시간 순서대로 표시
4. **k** : 프로세스 kill - k 입력 후 종료할 PID 입력 signal을 입력하라고 하면 kill signal인 9를 입력
5. **a** : 메모리 사용량에 따라 정렬
6. **b** : Batch 모드 작동
7. **c** : 명령행 / 프로그램 이름 토글
8. **d** : 지연 시간 간격은 다음과 같다. -d ss. tt(seconds.tenths)
9. **h** : 도움말
11. **H** : 스레드 토글
13. **i** : 유휴 프로세스 토글
14. **m** : VIRT/USED 토글
15. **M** : 메모리 유닛 탐지
16. **n** : 반복 횟수 제한 -n number
17. **p** : PID를 모니터 [-pN1 -pN2 ...] or [-pN1 N2 ...]
18. **s** : 보안 모드 작동
19. **S** : 누적 시간 모드 토글
20. **u** : 입력한 유저의 프로세스만 표시 which u
21. **숫자 1** : CPU Core별로 사용량을 보여준다.

***Top 명령어 페이지 이동***

Page Down : 프로세스의 다음페이지 목록

Page UP : 프로세스의 이전 페이지 목록

방향키 사용 가능

ps
---
+ 프로세스의 상태를 확인하는 명령어
+ 현재 특정 프로세스가 실행되고 있는지 실행되고 있는 프로세스가 어떤 PID를 갖고 있는지 등을 확인하는데 많이 쓰이며, 옵션을 통해 CPU와 메모리 점유율 등의 정보도 확인할 수 있다.

### 사용법

**ps**

![ps](https://github.com/Hwanggeuncheol/OpenSourceSW/assets/133829778/2cfb2a03-099b-4635-80ee-84a09a224213)

|옵션|설명|
|:----:|:----:|
|PID|프로세스의 아이디|
|TTY|프로세스를 제어하는 수단<br>콘솔접속시 "tty숫자" 형태로 표시되며, 원격이나 에뮬레이터 접속시 "pts/숫자" 형태로 표시|
|TIME|프로세스에 사용된 CPU 시간|
|CMD|프로세스 실행 명령어|

**ps -ef**
* -e : 모든 프로세스를 표시한다.
* -f : 프로세스의 정보를 더 많이 보여준다.

---

일반적으로 자주 사용하는 옵션 조합

하지만 많은 프로세스를 한번에 표시하기 때문에 grep 명령어로 원하는 키워드를 가려서 사용한다.

grep은 |(파이프)를 통해 주로 사용한다

---

|옵션|설명|
|:---:|:---:|
|UID|프로세스 실행 유저|
|PID|프로세스의 아이디|
|PPID|프로세스의 부모 PID|
|C|CPU 사용량|
|STIME|프로세스 시작 시간|
|TTY|프로세스를 제어하는 수단<br> 콘솔접속시 "tty숫자" 형태로 표시되며, 원격이나 에뮬레이터 접속시 "pts/숫자" 형태로 표시|
|TIME|프로세스에 사용된 CPU 시간|
|CMD|프로세스 실행 명령어|

**ps -o**
* 프로세스에 대해 알고자 하는 항목을 유저가 선택하여 확인하는 명령어
* ps L 명령어를 통해 ps -o 이하의 옵션항목을 확인할 수 있다.

jobs
---

+ 작업의 상태를 표시하는 명령어.
+ 현재 쉘 세션에서 실행시킨 백그라운드 작업의 목록이 출력된다.
+ 각 작업에는 번호가 붙어 있어 kill 명령어 뒤에 '%번호' 등으로 사용할 수 있다.

**jobs로 출력되는 백그라운드 작업의 상태값**

|상태|설명|
|:---:|:---:|
|Running|작업이 계속 진행중임|
|Done|작업이 완료되어 0을 반환|
|Done(code)|작업이 종료되었으며 0이 아닌 코드를 반환|
|Stopped|작업이 일시 중단|
|Stopped(SIGTSTP)|SIGTSTP 시그널이 작업을 일시 중단|
|Stopped(SIGSTOP)|SIGSTOP 시그널이 작업을 일시 중단|
|Stopped(SIGTTIN)|SIGTTIN 시그널이 작업을 일시 중단|
|Stopped(SIGTTOU)|SIGTTOU 시그널이 작업을 일시 중단|

### 사용법
**jobs [옵션][작업번호]**

|옵션|설명|
|:---:|:---:|
|-l|프로세스 그룹 ID를 state 필드 앞에 출력|
|-n|프로세스 그룹 중에 대표 프로세스 ID를 출력|
|-p|각 프로세스 ID에 대해 한 행씩 출력|
|command|지정한 명령어를 실행|

kill
---

- [x] 대개 프로세스를 죽일 때 사용된다
- [x] 내부적으로는 프로세스에 시그널을 보내 원하는 작업을 하게 하는 명령어이다

### 사용법
**kill [option] <pid> [...]**

ps 명령어를 이용하여 pid를 알아내서 이용한다.

kill 명령은 지정된 프로세스 또는 프로세스 그룹에 신호를 보내 신호에 따라 작동하도록 하는데
  
신호가 지정되지 않은 경우 기본값은 -15(TERM)이다
  
-1(HUP) : 프로세스를 다시 로드한다.

-9(KILL) : 프로세스를 제거한다.
  
-15(TERM) : 프로세스를 정상적으로 중지한다.
  
**kill -l**
사용 가능한 모든 신호 목록을 가져온다
  
![kill](https://github.com/Hwanggeuncheol/OpenSourceSW/assets/133829778/35e34d07-4787-4153-80b0-f07516fc8a70)
  
##### 신호는 세 가지 방법으로 지정 가능
+ 숫자[ex) -1 or -s 1]을 사용
+ "SIG" 접두사 [ex) -SIGUP or -s SIGUP]를 사용
+ "SIG" 접두사 [ex) -HUP or -s HUP]를 사용 X
